<!DOCTYPE html>
<html>

<head>
  <title>ESP8266 Control Car via Web</title>
  <meta name="viewport" content="width=device-width, initial-scale=0.7, maximum-scale=1, user-scalable=no">
  <style type="text/css">
    body {
      text-align: center;
      font-size: 24px;
      margin: 0px;
    }

    button {
      text-align: center;
      font-size: 24px;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: stretch;
      height: 100vh;
      /* 100% of the viewport height */
    }

    .column {
      flex: 1;
      box-sizing: border-box;
      padding: 20px;
      border: 1px solid #ccc;
    }

    .action {
      width: 100px;
      height: 100px;
      background-color: #3498db;
      margin: 20px;
      cursor: pointer;
    }

    #wheel {
      position: relative;
      transition: transform 1s ease;
      /* Add a transition for smooth rotation */
    }

    #helice {
      position: relative;

    }

    .rotate_helice {
      animation: rotate 0.5s linear infinite;
    }

    /* */

    .flex-container {
      display: flex;
    }

    .flex-child {
      flex: 1;
      border: 2px solid yellow;
    }

    .flex-child:first-child {
      margin-right: 20px;
    }

    @keyframes rotate {
      to {
        transform: rotate(360deg);
      }
    }

    @media only screen and (max-width: 600px) {

      /* For smartphones or smaller screens */
      .container {
        flex-direction: column;
      }
    }
  </style>
  <script>

    var CMD_STOP = 0;
    var CMD_FORWARD = 1;
    var CMD_BACKWARD = 2;
    var CMD_LEFT = 4;
    var CMD_RIGHT = 8;
    var img_name_lookup = {
      [CMD_STOP]: "stop",
      [CMD_FORWARD]: "up",
      [CMD_BACKWARD]: "down",
      [CMD_LEFT]: "left",
      [CMD_RIGHT]: "right"
    }
    var ws = null;

    // Init the original wheel position
    let wheelposition = 0;

    function init() {
      var actions = document.querySelectorAll(".action");
      actions.forEach(action => {
        action.addEventListener("touchstart", mouse_down, { passive: true });
        action.addEventListener("touchend", mouse_up);
        // action.addEventListener("touchcancel", mouse_up);
        action.addEventListener("mousedown", mouse_down);
        action.addEventListener("mouseup", mouse_up);
        // action.addEventListener("mouseout", mouse_up); // This line activate stop on mouse out
      });
    }
    function ws_onmessage(e_msg) {
      e_msg = e_msg || window.event; // MessageEvent

      //alert("msg : " + e_msg.data);
    }
    function ws_onopen() {
      document.getElementById("ws_state").innerHTML = "OPEN";
      document.getElementById("wc_conn").innerHTML = "Disconnect";
    }
    function ws_onclose() {
      document.getElementById("ws_state").innerHTML = "CLOSED";
      document.getElementById("wc_conn").innerHTML = "Connect";
      console.log("socket was closed");
      ws.onopen = null;
      ws.onclose = null;
      ws.onmessage = null;
      ws = null;
    }
    function wc_onclick() {
      if (ws == null) {
        ws = new WebSocket("ws://" + window.location.host + ":81");
        document.getElementById("ws_state").innerHTML = "CONNECTING";

        ws.onopen = ws_onopen;
        ws.onclose = ws_onclose;
        ws.onmessage = ws_onmessage;
      }
      else
        ws.close();
    }

    // Gestion des actions
    function getFirstDivParentId(element) {
      let parent = element.parentNode;
      while (parent) {
        if (parent.nodeName === 'DIV') {
          return parent.id;
        }
        parent = parent.parentNode;
      }
      return null; // No div parent found
    }

    // Lorsque le bouton est pressé
    function mouse_down(event) {
      const id = getFirstDivParentId(event.target);
      console.log("down", id)
      send_command(id);
      event.stopPropagation();
      event.preventDefault();
    }
    // Lorsqu'il est relâché
    function mouse_up(event) {
      const id = getFirstDivParentId(event.target);
      console.log("up", id)
      send_command(CMD_STOP);
      let wheel = document.getElementById('wheel');
      let helice = document.getElementById('helice');
      helice.classList.remove('rotate_helice');
      wheel.style.transform = `rotate(0deg)`
      event.stopPropagation();
      event.preventDefault();
    }
    function send_command(cmd) {
      let wheel = document.getElementById('wheel');
      let helice = document.getElementById('helice');

      if (ws != null)
        if (ws.readyState == 1) {
          ws.send(cmd + "\r\n");
          switch (cmd) {
            case '8':
              wheel.style.transform = `rotate(120deg)`
              break;
            case '4':
              wheel.style.transform = `rotate(-120deg)`
              break;
            case '0':
              wheel.style.transform = `rotate(0deg)`
              break;
            case '1':
              helice.classList.add('rotate_helice');
              break;
            case '2':
              helice.classList.add('rotate_helice');
              break;
          }
        }
    }

    window.onload = init;
  </script>
</head>

<body>
  <div class="container">
    <div class="column">
      <h2>Gouvernail</h2>

      <div class="flex-container">
        <div class="flex-child">
          <div id="8" class="action">
            <!-- GAUCHE -->
            <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
              <polygon points="0 50, 50 0, 50 25, 100 25, 100 75, 50 75, 50 100, 0 50" />
            </svg>

          </div>
        </div>
        <div class="flex-child">
          <div id="4" class="action">
            <!-- DROITE -->
            <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
              <polygon points="100 50, 50 0, 50 25, 0 25, 0 75, 50 75, 50 100, 100 50" />
            </svg>

          </div>
        </div>
      </div>
    </div>
    <div class="column">
      <h2>Poste de contrôle</h2>
      <div id="helice">
        <svg width="20mm" height="20mm" viewBox="0 0 90 90" version="1.1" id="svg5" xml:space="preserve"
          inkscape:version="1.2.2 (732a01da63, 2022-12-09)" sodipodi:docname="dessin-1.svg"
          xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
          xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
          xmlns:svg="http://www.w3.org/2000/svg">
          <sodipodi:namedview id="namedview7" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
            inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1" inkscape:document-units="mm" showgrid="false" inkscape:zoom="1.0859962"
            inkscape:cx="107.27478" inkscape:cy="101.28949" inkscape:window-width="1920" inkscape:window-height="1017"
            inkscape:window-x="892" inkscape:window-y="-8" inkscape:window-maximized="1"
            inkscape:current-layer="layer1" />
          <defs id="defs2" />
          <g inkscape:label="Calque 1" inkscape:groupmode="layer" id="layer1"
            transform="translate(-41.688318,-116.5893)">
            <path style="fill:#666666;stroke-width:0.269045"
              d="m 59.619373,206.45293 c -0.07166,-0.0742 -0.728196,-0.25245 -1.458956,-0.39602 -2.507472,-0.49263 -6.26906,-2.71717 -8.113346,-4.79809 -2.740434,-3.09204 -5.130806,-7.18346 -6.085909,-10.4168 -0.266939,-0.90368 -0.57738,-1.88951 -0.689867,-2.19073 -0.850302,-2.27699 -1.582113,-7.27758 -1.582976,-10.81675 -6.87e-4,-2.82367 0.503389,-6.73155 1.077348,-8.35218 1.776058,-5.01488 4.640449,-8.07833 7.553411,-8.07833 1.291495,0 4.624664,1.25004 7.571118,2.83939 1.512973,0.81611 4.050079,1.87777 6.238391,2.61045 1.164153,0.38977 5.275876,0.38744 6.775863,-0.004 1.067616,-0.2785 1.180544,-0.39027 1.314067,-1.30075 0.388094,-2.64632 0.775147,-4.05557 1.478571,-5.38341 0.906693,-1.71154 0.895373,-1.62246 0.284991,-2.24264 -4.265631,-4.3341 -8.961795,-12.14929 -10.579909,-17.60669 -1.304049,-4.39817 -1.490108,-6.05146 -1.001902,-8.90271 0.411065,-2.40071 0.94505,-4.31378 1.309467,-4.69131 0.09964,-0.10319 0.181159,-0.39426 0.181159,-0.64676 0,-0.67971 2.439508,-4.15535 3.702953,-5.27572 3.267532,-2.8975 8.995426,-4.5487 14.403881,-4.15227 4.49278,0.32932 10.95343,2.2524 13.938327,4.1489 0.542297,0.34455 1.097402,0.62645 1.233553,0.62645 0.136161,0 0.287208,0.0924 0.335673,0.20539 0.04845,0.11296 0.403368,0.39022 0.788674,0.61614 6.233715,3.65502 10.531735,10.03163 9.749315,14.46425 -0.41606,2.35711 -1.11398,3.01787 -8.335213,7.89136 -3.612923,2.43831 -5.727333,4.73212 -7.006973,7.60153 -0.580351,1.30137 -1.055192,2.52791 -1.055192,2.72565 0,0.19774 0.309967,0.53138 0.688829,0.74143 0.943008,0.52285 3.094313,3.00508 3.643454,4.20392 0.491625,1.07328 0.931569,1.19445 2.542126,0.70015 3.863999,-1.18594 13.299579,-1.65209 17.312089,-0.85528 8.05382,1.59932 13.02419,5.56635 15.39788,12.28958 0.34527,0.97794 0.46108,2.13985 0.45799,4.59501 -0.004,3.39631 -0.27289,4.57574 -2.01015,8.82576 -1.88028,4.5999 -9.04209,12.10013 -14.11006,14.77684 -0.58153,0.30714 -1.48867,0.81086 -2.01586,1.11938 -3.44655,2.01698 -9.77748,3.09113 -12.53518,2.12682 -4.210209,-1.47223 -4.923554,-2.95707 -5.268208,-10.96597 -0.173996,-4.0435 -0.643182,-7.42291 -1.254614,-9.03679 -0.737282,-1.94607 -3.127212,-5.342 -3.756836,-5.33822 -0.154524,8.1e-4 -0.611142,0.1801 -1.014701,0.39819 -0.855391,0.46224 -3.305573,0.96933 -4.68367,0.96933 -0.937343,0 -0.966406,0.0322 -1.298152,1.43767 -2.073369,8.78407 -7.357262,18.10397 -12.467117,21.98987 -1.650698,1.25532 -5.093103,2.77305 -7.459052,3.28864 -1.78426,0.38884 -3.941487,0.5221 -4.195287,0.25916 z m 29.30899,-32.54058 c 1.618259,-1.05831 3.385438,-3.26935 3.802683,-4.75782 0.509468,-1.81745 0.460045,-4.61444 -0.107159,-6.06518 -0.66528,-1.70154 -2.162594,-3.43775 -3.725686,-4.32008 -1.100909,-0.62144 -1.766539,-0.78252 -3.613732,-0.87455 -2.012706,-0.10029 -2.43179,-0.0334 -3.772352,0.60183 -3.656132,1.73251 -5.596967,5.91778 -4.625485,9.97457 0.377163,1.57499 0.795747,2.31093 2.184134,3.84009 1.875926,2.06612 3.180732,2.54195 6.537097,2.38386 1.863198,-0.0878 2.480254,-0.23321 3.3205,-0.78272 z m -5.628447,-4.02053 c -1.805373,-0.93192 -2.760489,-3.46976 -1.826023,-4.8519 0.220731,-0.32647 0.369421,-0.75144 0.330417,-0.94438 -0.03896,-0.19294 0.591361,-0.71285 1.400806,-1.15536 1.431875,-0.78278 1.506195,-0.79408 2.745393,-0.41729 1.99856,0.60767 3.050345,2.49232 2.6438,4.73733 -0.418904,2.31326 -3.216878,3.704 -5.294393,2.6316 z"
              id="path302" />
          </g>
        </svg>
      </div>

      <div id="wheel">
        <svg width="50.995647mm" height="51.008018mm" viewBox="0 0 50.995647 51.008018" version="1.1" id="svg5"
          xml:space="preserve" inkscape:version="1.2.2 (732a01da63, 2022-12-09)" sodipodi:docname="dessin.svg"
          xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
          xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
          xmlns:svg="http://www.w3.org/2000/svg">
          <sodipodi:namedview id="namedview7" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
            inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1" inkscape:document-units="mm" showgrid="false" inkscape:zoom="0.38395763"
            inkscape:cx="-100.27148" inkscape:cy="427.13046" inkscape:window-width="1920" inkscape:window-height="1017"
            inkscape:window-x="892" inkscape:window-y="-8" inkscape:window-maximized="1"
            inkscape:current-layer="layer1" />
          <defs id="defs2" />
          <g inkscape:label="Calque 1" inkscape:groupmode="layer" id="layer1"
            transform="translate(-23.409201,-19.131688)">
            <path style="fill:#6c5353;stroke-width:0.0423333"
              d="m 48.590938,70.117232 c -0.86331,-0.124058 -1.73175,-1.011445 -2.04632,-2.090971 -0.10154,-0.348483 -0.17618,-0.858896 -0.17618,-1.204887 0,-0.682845 0.35787,-1.777691 1.00003,-3.059489 l 0.22764,-0.454381 v -1.133119 -1.133124 h 1.31233 1.31234 v 1.133124 1.133119 l 0.22763,0.454381 c 0.64217,1.281798 1.00003,2.376644 1.00003,3.059489 0,0.965344 -0.35261,1.931446 -0.93058,2.549644 -0.55831,0.597171 -1.20942,0.849321 -1.92692,0.746214 z m -16.891,-6.953602 c -0.69264,-0.225184 -1.12019,-0.669705 -1.33991,-1.393093 -0.12355,-0.406764 -0.0951,-1.176905 0.0598,-1.618276 0.27899,-0.795088 0.75798,-1.47019 1.36481,-1.92361 0.47358,-0.353852 1.48955,-0.81984 2.49767,-1.145582 l 0.42333,-0.136784 0.83457,-0.829267 0.83457,-0.829268 0.3277,0.357924 c 0.18024,0.196854 0.44286,0.473071 0.5836,0.613812 0.14074,0.140742 0.41696,0.403361 0.61382,0.583599 l 0.35792,0.327707 -0.82861,0.834568 -0.8286,0.834567 -0.13739,0.423334 c -0.32093,0.988843 -0.79381,2.020629 -1.14471,2.497667 -0.18191,0.247294 -0.6314,0.676702 -0.90644,0.865932 -0.30142,0.207387 -0.85985,0.458597 -1.22662,0.551803 -0.47359,0.120357 -1.08817,0.114139 -1.48547,-0.01503 z m 32.91417,0.01281 c -0.35349,-0.09203 -0.91543,-0.347417 -1.20926,-0.54958 -0.27503,-0.18923 -0.72453,-0.618638 -0.90644,-0.865932 -0.35151,-0.477863 -0.8304,-1.522578 -1.14491,-2.497667 l -0.13654,-0.423334 -0.82786,-0.835554 -0.82787,-0.835558 0.35686,-0.326716 c 0.19627,-0.179697 0.47201,-0.441871 0.61275,-0.582613 0.14074,-0.140741 0.40291,-0.416479 0.58261,-0.612749 l 0.32672,-0.356858 0.83555,0.827867 0.83556,0.827862 0.42333,0.137126 c 1.01162,0.327673 2.02455,0.792404 2.49767,1.145917 0.60683,0.45342 1.08582,1.128522 1.36481,1.92361 0.15488,0.441371 0.18332,1.211512 0.0598,1.618276 -0.22318,0.734776 -0.66403,1.1845 -1.37612,1.403837 -0.38385,0.118229 -1.01701,0.119122 -1.46662,0.0021 z m -16.59467,-2.579417 c -2.51756,-0.147603 -4.86218,-0.843483 -7.07873,-2.100944 -1.92514,-1.092145 -3.73435,-2.733916 -5.05588,-4.587985 -1.02815,-1.442466 -1.83982,-3.121737 -2.32362,-4.807391 -0.84415,-2.941183 -0.84415,-5.986037 0,-8.927222 0.89848,-3.130448 2.80394,-5.97653 5.37773,-8.032418 2.37617,-1.898032 5.26192,-3.078937 8.3185,-3.404098 0.8732,-0.09289 2.42881,-0.09289 3.302,0 2.23329,0.237578 4.33426,0.91647 6.31673,2.041141 2.55808,1.451212 4.74692,3.717407 6.14282,6.359904 0.76451,1.44726 1.23584,2.761412 1.55261,4.328928 0.51144,2.530908 0.40408,5.125168 -0.31593,7.633765 -1.35326,4.715036 -4.87398,8.579257 -9.48406,10.409399 -2.07069,0.822042 -4.52675,1.217401 -6.75217,1.086921 z m -0.42333,-7.209371 v -3.272109 l -0.37042,-0.11761 c -0.20373,-0.06469 -0.56772,-0.214139 -0.80888,-0.332114 l -0.43847,-0.214499 -2.30261,2.302324 c -1.26644,1.266279 -2.30223,2.311917 -2.30176,2.323639 4.7e-4,0.01172 0.18456,0.154661 0.40908,0.317644 1.51631,1.100705 3.2583,1.840781 5.07479,2.155999 0.32456,0.05632 0.62344,0.103848 0.66419,0.105617 0.0699,0.003 0.0741,-0.179595 0.0741,-3.268891 z m 3.33038,3.165767 c 1.8338,-0.310633 3.5762,-1.047013 5.10734,-2.158492 0.22453,-0.162983 0.40861,-0.305922 0.40909,-0.317644 4.6e-4,-0.01172 -1.03532,-1.05736 -2.30176,-2.323639 l -2.30261,-2.302324 -0.43847,0.214499 c -0.24116,0.117975 -0.60516,0.267424 -0.80889,0.332114 l -0.37041,0.11761 v 3.272109 c 0,1.964859 0.0156,3.272109 0.039,3.272109 0.0214,0 0.32147,-0.04785 0.66674,-0.106342 z m -9.13328,-6.68492 2.30363,-2.303933 -0.18943,-0.373651 c -0.10419,-0.205511 -0.25492,-0.568918 -0.33495,-0.807572 l -0.14552,-0.433917 h -3.27058 c -1.91968,0 -3.27058,0.0158 -3.27058,0.03825 0,0.02104 0.0488,0.327455 0.1085,0.680921 0.30698,1.818357 1.0462,3.56459 2.15633,5.093882 0.16298,0.224523 0.30592,0.408609 0.31765,0.409084 0.0117,4.65e-4 1.05794,-1.03591 2.32495,-2.303069 z m 16.87307,1.893985 c 1.11013,-1.529292 1.84935,-3.275525 2.15633,-5.093882 0.0597,-0.353466 0.1085,-0.659881 0.1085,-0.680921 0,-0.02245 -1.35152,-0.03825 -3.27211,-0.03825 h -3.27211 l -0.11761,0.370417 c -0.0647,0.203729 -0.21414,0.567728 -0.33211,0.808884 l -0.2145,0.438468 2.30232,2.302616 c 1.26628,1.26644 2.31192,2.302231 2.32364,2.301757 0.0117,-4.66e-4 0.15466,-0.184561 0.31765,-0.409084 z m -9.36834,-5.182363 c 1.02385,-0.212856 1.73822,-1.238481 1.56524,-2.24721 -0.18519,-1.079968 -1.21183,-1.830114 -2.25892,-1.650557 -1.07997,0.185194 -1.83011,1.211829 -1.65056,2.258921 0.19129,1.115469 1.26183,1.863882 2.34424,1.638846 z m -5.72548,-3.689278 c 0.08,-0.238654 0.23076,-0.602061 0.33495,-0.807571 l 0.18943,-0.373654 -2.30363,-2.303929 c -1.26701,-1.267162 -2.31323,-2.303543 -2.32495,-2.303069 -0.0117,4.74e-4 -0.15467,0.18456 -0.31765,0.409082 -1.11013,1.529293 -1.84935,3.275526 -2.15633,5.093881 -0.0597,0.353467 -0.1085,0.659882 -0.1085,0.680922 0,0.02245 1.3509,0.03825 3.27058,0.03825 h 3.27058 z m 17.35865,0.395662 c 0,-0.02104 -0.0488,-0.327455 -0.1085,-0.680922 -0.30698,-1.818355 -1.0462,-3.564588 -2.15633,-5.093881 -0.16299,-0.224522 -0.30592,-0.408609 -0.31765,-0.409082 -0.0117,-4.74e-4 -1.05736,1.035317 -2.32364,2.301755 l -2.30232,2.302616 0.2145,0.438468 c 0.11797,0.241157 0.26742,0.605155 0.33211,0.808884 l 0.11761,0.370417 h 3.27211 c 1.92059,0 3.27211,-0.0158 3.27211,-0.03825 z m -14.56014,-3.659881 c 0.19717,-0.101457 0.55349,-0.248383 0.79182,-0.326502 l 0.43332,-0.142034 v -3.271831 c 0,-1.964689 -0.0156,-3.271832 -0.039,-3.271832 -0.0214,0 -0.32147,0.04785 -0.66675,0.106342 -1.83086,0.310136 -3.60359,1.05862 -5.09395,2.150775 -0.22119,0.162092 -0.41086,0.302337 -0.42149,0.311656 -0.0207,0.01819 4.5754,4.627895 4.61428,4.627895 0.0128,0 0.18456,-0.08301 0.38174,-0.184469 z m 7.78512,-2.121007 c 1.26785,-1.268012 2.29648,-2.3131 2.28585,-2.322419 -0.0106,-0.0093 -0.2003,-0.149564 -0.4215,-0.311656 -1.49035,-1.092155 -3.26308,-1.840639 -5.09395,-2.150775 -0.34527,-0.05849 -0.64531,-0.106342 -0.66674,-0.106342 -0.0234,0 -0.0389,1.306464 -0.0389,3.270251 l 8e-5,3.27025 0.49131,0.168451 c 0.27022,0.09265 0.61784,0.238826 0.7725,0.32484 0.15465,0.08601 0.3003,0.157849 0.32367,0.159632 0.0234,0.0018 1.07981,-1.03422 2.34766,-2.302232 z m -28.04056,9.62463 c -1.41152,-0.205871 -2.5405,-1.132864 -2.68838,-2.207404 -0.1564,-1.136495 0.72341,-2.250734 2.09213,-2.649572 0.34848,-0.101545 0.85889,-0.176178 1.20488,-0.176178 0.68285,0 1.77769,0.357863 3.05949,1.000029 l 0.45438,0.227638 h 1.13312 1.13313 v 1.312333 1.312333 h -1.13313 -1.13312 l -0.45438,0.227638 c -1.6558,0.829536 -2.68399,1.096719 -3.66812,0.953183 z m 44.29825,-0.03303 c -0.62565,-0.139015 -1.48224,-0.470112 -2.38054,-0.920155 l -0.45439,-0.227638 h -1.13311 -1.13313 v -1.312333 -1.312333 h 1.13313 1.13311 l 0.45439,-0.227638 c 1.28179,-0.642166 2.37664,-1.000029 3.05948,-1.000029 0.64611,0 1.29962,0.159047 1.88223,0.458085 0.47283,0.24269 0.9873,0.731853 1.20177,1.142646 0.20458,0.391854 0.2742,0.839842 0.19817,1.275288 -0.0825,0.472542 -0.26465,0.79759 -0.67832,1.21041 -0.60725,0.606014 -1.42889,0.934656 -2.43612,0.974428 -0.37714,0.01489 -0.56792,0.0012 -0.84667,-0.06073 z m -34.87523,-13.946179 -0.81725,-0.818053 -0.36768,-0.116103 c -0.98581,-0.31129 -2.09451,-0.816805 -2.56901,-1.171346 -0.60683,-0.453419 -1.08582,-1.128525 -1.36482,-1.923611 -0.15487,-0.441372 -0.18331,-1.21151 -0.0598,-1.618278 0.29466,-0.970089 1.02282,-1.493222 2.07844,-1.493222 0.65498,0 1.39496,0.2388 1.97357,0.6369 0.27504,0.18923 0.72453,0.618637 0.90644,0.865933 0.35091,0.477037 0.82379,1.508824 1.14471,2.497667 l 0.13739,0.423334 0.82861,0.834567 0.8286,0.834567 -0.33675,0.311911 c -0.18522,0.171551 -0.40343,0.370447 -0.48492,0.44199 -0.0815,0.07154 -0.3482,0.350809 -0.59267,0.620592 -0.24448,0.269783 -0.45421,0.49067 -0.46607,0.49086 -0.0119,2.12e-4 -0.38934,-0.367778 -0.83883,-0.817708 z m 25.43489,0.326848 c -0.24447,-0.269783 -0.51117,-0.549049 -0.59266,-0.620592 -0.0815,-0.07154 -0.29971,-0.270439 -0.48492,-0.44199 l -0.33676,-0.311911 0.82927,-0.834567 0.82927,-0.834567 0.1362,-0.423334 c 0.31268,-0.971806 0.79271,-2.019324 1.14457,-2.497667 0.18191,-0.247296 0.63141,-0.676703 0.90644,-0.865933 0.57862,-0.3981 1.31859,-0.6369 1.97357,-0.6369 1.05563,0 1.78379,0.523133 2.07844,1.493222 0.12355,0.406768 0.0951,1.176906 -0.0598,1.618278 -0.279,0.795086 -0.75798,1.470192 -1.36482,1.923611 -0.47357,0.353852 -1.48955,0.81984 -2.49766,1.14558 l -0.42334,0.136786 -0.82589,0.820595 c -0.45423,0.451327 -0.83523,0.820439 -0.84666,0.820249 -0.0114,-1.69e-4 -0.2208,-0.221077 -0.46528,-0.49086 z m -13.37733,-6.378083 v -1.133122 l -0.22764,-0.454378 c -0.64216,-1.2818 -1.00003,-2.376647 -1.00003,-3.059492 0,-1.652591 0.99291,-3.106271 2.25425,-3.300372 1.11116,-0.17099 2.25207,0.731323 2.64958,2.095486 0.10154,0.348482 0.17617,0.858895 0.17617,1.204886 0,0.682845 -0.35786,1.777692 -1.00003,3.059492 l -0.22763,0.454378 v 1.133122 1.133122 h -1.31234 -1.31233 z"
              id="path302" />
          </g>
        </svg>
      </div>
      <p>
        WebSocket : <span id="ws_state" style="color:blue">closed</span><br>
      </p>
      <button id="wc_conn" type="button" onclick="wc_onclick();">Connect</button>
    </div>
    <div class="column">
      <h2>Hélice</h2>

      <div id="1" class="action">
        <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
          <polygon points="50 0, 100 50, 75 50, 75 100, 25 100, 25 50, 0 50, 50 0" />
        </svg>

      </div>
      <div id="2" class="action">
        <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
          <polygon points="0 50, 50 100, 100 50, 75 50, 75 0, 25 0, 25 50, 0 50" />
        </svg>


      </div>
    </div>
  </div>


  <!--
    <div id="container">
    <div id="0" class="button_stop"></div>
</div>
-->
</body>

</html>